<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-go/extensions/cli-develop" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">cli-develop | Programming Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://pro.tomartisan.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://pro.tomartisan.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://pro.tomartisan.com/docs/go/extensions/cli-develop"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="cli-develop | Programming Notes"><meta data-rh="true" name="description" content="通过一款命令行工具的开发，学习 Golang 的基本知识"><meta data-rh="true" property="og:description" content="通过一款命令行工具的开发，学习 Golang 的基本知识"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://pro.tomartisan.com/docs/go/extensions/cli-develop"><link data-rh="true" rel="alternate" href="https://pro.tomartisan.com/docs/go/extensions/cli-develop" hreflang="en"><link data-rh="true" rel="alternate" href="https://pro.tomartisan.com/docs/go/extensions/cli-develop" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KKPJWZERMC"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-KKPJWZERMC",{})</script><link rel="stylesheet" href="/assets/css/styles.85ec9151.css">
<script src="/assets/js/runtime~main.9652eed4.js" defer="defer"></script>
<script src="/assets/js/main.ac60a65c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_MOvT" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Programming Notes Logo" class="themedComponent_fDpL themedComponent--light_Dbl3"><img src="/img/logo.svg" alt="Programming Notes Logo" class="themedComponent_fDpL themedComponent--dark_nHt_"></div><b class="navbar__title text--truncate">Home</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/go/">Go</a><a class="navbar__item navbar__link" href="/docs/python/">Python</a><a class="navbar__item navbar__link" href="/docs/rust/">Rust</a><a class="navbar__item navbar__link" href="/docs/kotlin/">Kotlin</a><a class="navbar__item navbar__link" href="/docs/swift/">Swift</a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_uWYM"></div><a href="https://github.com/tomartisan/programming-notes" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_C12H"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_Evg2 colorModeToggle_N30G"><button class="clean-btn toggleButton__QmC toggleButtonDisabled_B50t" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_mmuT"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_TXik"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_GduL"><div class="docsWrapper_kxKU"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_rY3C" type="button"></button><div class="docRoot_n_bT"><aside class="theme-doc-sidebar-container docSidebarContainer_gd1T"><div class="sidebarViewport_FgQr"><div class="sidebar_ztxH"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_QRga"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/go/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/go/basic/golang-basic">basic</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/go/extensions/cli-develop">extensions</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/go/extensions/cli-develop">cli-develop</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_MH7m"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_LVfR"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_cUbl"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_ODVj"><div class="docItemContainer_nHqq"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_QRi4" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_I3Ku"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">extensions</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">cli-develop</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_HK0O theme-doc-toc-mobile tocMobile_hKVv"><button type="button" class="clean-btn tocCollapsibleButton_lsOF">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>cli-develop</h1></header>
<blockquote>
<p>通过一款命令行工具的开发，学习 Golang 的基本知识</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_e5hY" id="来自-gpt-的意见">来自 GPT 的意见<a href="#来自-gpt-的意见" class="hash-link" aria-label="Direct link to 来自 GPT 的意见" title="Direct link to 来自 GPT 的意见">​</a></h2>
<p>promote：你是一位经验丰富的全栈开发者，对 golang,python,nodejs 等都有丰富的实践经验</p>
<h3 class="anchor anchorWithStickyNavbar_e5hY" id="第一轮问答">第一轮问答<a href="#第一轮问答" class="hash-link" aria-label="Direct link to 第一轮问答" title="Direct link to 第一轮问答">​</a></h3>
<ul>
<li>问：我现在想开发一个在 macOS 系统下的控制台命令工具，能够实现翻译功能。你有什么好的最佳实践方案吗？ 或者推荐哪种编程语言或技术栈呢？</li>
<li>答：开发一个在 macOS 系统下的控制台命令工具来实现翻译功能，有几种不同的方案可以选择。以下是几种可能的编程语言和技术栈，以及一些最佳实践建议：</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_e5hY" id="选择编程语言和技术栈">选择编程语言和技术栈<a href="#选择编程语言和技术栈" class="hash-link" aria-label="Direct link to 选择编程语言和技术栈" title="Direct link to 选择编程语言和技术栈">​</a></h4>
<ol>
<li>
<p><strong>Python</strong></p>
<ul>
<li><strong>优点</strong>: 简单易学，丰富的库和框架，广泛的社区支持。</li>
<li><strong>库</strong>: 可以使用 <code>argparse</code> 解析命令行参数，使用 <code>requests</code> 库进行网络请求，使用 Google Translate API 或其他翻译 API 进行翻译。</li>
</ul>
</li>
<li>
<p><strong>Golang</strong></p>
<ul>
<li><strong>优点</strong>: 编译成独立的二进制文件，性能高，适合系统工具开发。</li>
<li><strong>库</strong>: 可以使用 <code>cobra</code> 或 <code>flag</code> 库解析命令行参数，使用 <code>net/http</code> 进行网络请求。</li>
</ul>
</li>
<li>
<p><strong>Node.js</strong></p>
<ul>
<li><strong>优点</strong>: 异步处理能力强，npm 有丰富的包管理系统，可以快速搭建。</li>
<li><strong>库</strong>: 可以使用 <code>commander</code> 解析命令行参数，使用 <code>axios</code> 库进行网络请求。</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_e5hY" id="最佳实践建议">最佳实践建议<a href="#最佳实践建议" class="hash-link" aria-label="Direct link to 最佳实践建议" title="Direct link to 最佳实践建议">​</a></h4>
<ol>
<li><strong>错误处理</strong>: 确保你处理了网络请求失败、API 限制以及其他可能的错误情况，并提供用户友好的错误信息。</li>
<li><strong>环境变量</strong>: API 密钥等敏感信息不要硬编码在代码中，使用环境变量或配置文件来管理。</li>
<li><strong>用户体验</strong>: 提供清晰的帮助信息和文档，让用户能够快速上手使用工具。</li>
<li><strong>单元测试</strong>: 为你的代码编写单元测试，确保每个功能模块都能正常工作。</li>
<li><strong>版本管理</strong>: 使用版本管理工具（如 Git）来管理代码变更，并提供清晰的版本发布日志。</li>
</ol>
<p>选择具体的技术栈可以根据你的个人偏好和项目需求来决定。如果你希望工具能够快速开发并且易于维护，Python 是一个不错的选择。如果你更关注性能和二进制分发，Golang 则是一个好选择。Node.js 则适合那些需要异步处理或者已经有丰富 JavaScript 经验的开发者。</p>
<h3 class="anchor anchorWithStickyNavbar_e5hY" id="第二轮问答">第  二轮问答<a href="#第二轮问答" class="hash-link" aria-label="Direct link to 第二轮问答" title="Direct link to 第二轮问答">​</a></h3>
<ul>
<li>问：如果要提交到 homebrew，可以让别的用户方便的通过：brew install 安装使用。在这个情况下，用哪种编程语言更合适呢？</li>
<li>答：为了提交到 Homebrew 并让其他用户方便地通过 brew install 来安装和使用，选择哪种编程语言主要取决于几个因素：程序的部署和打包难度、依赖管理以及你的个人偏好。以下是每种编程语言的优缺点，具体适用于 Homebrew 的情况：</li>
</ul>
<p>为了提交到 Homebrew 并让其他用户方便地通过<code>brew install</code>来安装和使用，选择哪种编程语言主要取决于几个因素：程序的部署和打包难度、依赖管理以及你的个人偏好。以下是每种编程语言的优缺点，具体适用于 Homebrew 的情况：</p>
<h4 class="anchor anchorWithStickyNavbar_e5hY" id="python">Python<a href="#python" class="hash-link" aria-label="Direct link to Python" title="Direct link to Python">​</a></h4>
<p><strong>优点</strong>:</p>
<ul>
<li>简单易学，开发速度快。</li>
<li>丰富的第三方库。</li>
<li>跨平台支持好。</li>
</ul>
<p><strong>缺点</strong>:</p>
<ul>
<li>需要依赖 Python 解释器和相关库，可能增加依赖管理的复杂性。</li>
</ul>
<p><strong>打包和部署</strong>:</p>
<ul>
<li>可以使用 <code>pyinstaller</code> 或 <code>pex</code> 将 Python 代码打包成独立的可执行文件，以减少对用户环境的依赖。</li>
</ul>
<p><strong>示例</strong>:</p>
<div class="language-shell codeBlockContainer_VHIv theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_SZVB"><pre tabindex="0" class="prism-code language-shell codeBlock_eDxB thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_HhFH"><span class="token-line" style="color:#393A34"><span class="token plain"># 使用 pyinstaller 打包</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pyinstaller --onefile your_script.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 然后在 Formula 中使用下载好的可执行文件</span><br></span></code></pre><div class="buttonGroup_dOGi"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lKbx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_qODK"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QXne"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_e5hY" id="golang">Golang<a href="#golang" class="hash-link" aria-label="Direct link to Golang" title="Direct link to Golang">​</a></h4>
<p><strong>优点</strong>:</p>
<ul>
<li>编译成独立的二进制文件，无需额外依赖。</li>
<li>性能高，适合系统工具开发。</li>
</ul>
<p><strong>缺点</strong>:</p>
<ul>
<li>编译时间可能较长，开发过程可能不如 Python 灵活。</li>
</ul>
<p><strong>打包和部署</strong>:</p>
<ul>
<li>编译成单独的二进制文件，直接在 Homebrew 中引用。</li>
</ul>
<p><strong>示例</strong>:</p>
<div class="language-shell codeBlockContainer_VHIv theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_SZVB"><pre tabindex="0" class="prism-code language-shell codeBlock_eDxB thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_HhFH"><span class="token-line" style="color:#393A34"><span class="token plain"># 编译二进制文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">go build -o your_tool main.go</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 然后在 Formula 中使用下载好的可执行文件</span><br></span></code></pre><div class="buttonGroup_dOGi"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lKbx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_qODK"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QXne"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_e5hY" id="nodejs">Node.js<a href="#nodejs" class="hash-link" aria-label="Direct link to Node.js" title="Direct link to Node.js">​</a></h4>
<p><strong>优点</strong>:</p>
<ul>
<li>异步处理能力强，适合 I/O 密集型任务。</li>
<li>丰富的 npm 包管理系统。</li>
</ul>
<p><strong>缺点</strong>:</p>
<ul>
<li>需要 Node.js 运行时环境和相关 npm 包，增加了依赖管理的复杂性。</li>
</ul>
<p><strong>打包和部署</strong>:</p>
<ul>
<li>可以使用 <code>pkg</code> 将 Node.js 代码打包成独立的可执行文件。</li>
</ul>
<p><strong>示例</strong>:</p>
<div class="language-shell codeBlockContainer_VHIv theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_SZVB"><pre tabindex="0" class="prism-code language-shell codeBlock_eDxB thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_HhFH"><span class="token-line" style="color:#393A34"><span class="token plain"># 使用 pkg 打包</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pkg your_script.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 然后在 Formula 中使用下载好的可执行文件</span><br></span></code></pre><div class="buttonGroup_dOGi"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lKbx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_qODK"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QXne"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_e5hY" id="综合建议">综合建议<a href="#综合建议" class="hash-link" aria-label="Direct link to 综合建议" title="Direct link to 综合建议">​</a></h4>
<p>对于提交到 Homebrew 的命令行工具，Golang 通常是最佳选择。它的编译特性使其生成的二进制文件可以在没有任何依赖的情况下运行，非常适合 Homebrew 的分发模式。</p>
<h4 class="anchor anchorWithStickyNavbar_e5hY" id="homebrew-formula-示例">Homebrew Formula 示例<a href="#homebrew-formula-示例" class="hash-link" aria-label="Direct link to Homebrew Formula 示例" title="Direct link to Homebrew Formula 示例">​</a></h4>
<p>以下是一个如何为 Golang 编写的工具创建 Homebrew Formula 的示例：</p>
<div class="language-ruby codeBlockContainer_VHIv theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_SZVB"><pre tabindex="0" class="prism-code language-ruby codeBlock_eDxB thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_HhFH"><span class="token-line" style="color:#393A34"><span class="token plain">class YourTool &lt; Formula</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  desc &quot;Your tool description&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  homepage &quot;https://example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  url &quot;https://github.com/yourusername/yourrepository/archive/v1.0.0.tar.gz&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sha256 &quot;your_tarball_checksum&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  depends_on &quot;go&quot; =&gt; :build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    system &quot;go&quot;, &quot;build&quot;, &quot;-o&quot;, &quot;#{bin}/your_tool&quot;, &quot;.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  test do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    assert_match &quot;Expected output&quot;, shell_output(&quot;#{bin}/your_tool --version&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre><div class="buttonGroup_dOGi"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lKbx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_qODK"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QXne"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在这个 Formula 中，<code>go build</code>命令被用来编译工具，并将其安装到 Homebrew 的 bin 目录中。你可以在测试中加入一些简单的命令来验证安装是否成功。</p>
<h3 class="anchor anchorWithStickyNavbar_e5hY" id="第三轮问答">第三轮问答<a href="#第三轮问答" class="hash-link" aria-label="Direct link to 第三轮问答" title="Direct link to 第三轮问答">​</a></h3>
<ul>
<li>问：明白了！ 那对于 golang，有没有类似的脚手架工具可供参考或使用呢？</li>
<li>答：如下</li>
</ul>
<p>在 Golang 中，有一些优秀的脚手架工具和框架可以帮助你快速搭建项目结构，处理命令行参数，以及管理项目依赖。以下是一些常用的工具和库：</p>
<h4 class="anchor anchorWithStickyNavbar_e5hY" id="1-cobra">1. Cobra<a href="#1-cobra" class="hash-link" aria-label="Direct link to 1. Cobra" title="Direct link to 1. Cobra">​</a></h4>
<p>Cobra 是一个用于创建命令行应用程序的库，可以帮助你快速构建复杂的 CLI 工具。</p>
<p><strong>特点</strong>:</p>
<ul>
<li>强大的命令和子命令管理</li>
<li>易于使用的标志和配置</li>
<li>丰富的文档和社区支持</li>
</ul>
<p><strong>安装</strong>:</p>
<div class="language-shell codeBlockContainer_VHIv theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_SZVB"><pre tabindex="0" class="prism-code language-shell codeBlock_eDxB thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_HhFH"><span class="token-line" style="color:#393A34"><span class="token plain">go get -u github.com/spf13/cobra/cobra</span><br></span></code></pre><div class="buttonGroup_dOGi"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lKbx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_qODK"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QXne"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>使用</strong>:
创建一个新的 Cobra 项目：</p>
<div class="language-shell codeBlockContainer_VHIv theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_SZVB"><pre tabindex="0" class="prism-code language-shell codeBlock_eDxB thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_HhFH"><span class="token-line" style="color:#393A34"><span class="token plain">cobra init --pkg-name github.com/yourusername/yourproject</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd yourproject</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cobra add translate</span><br></span></code></pre><div class="buttonGroup_dOGi"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lKbx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_qODK"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QXne"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>示例代码</strong>:</p>
<div class="language-go codeBlockContainer_VHIv theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_SZVB"><pre tabindex="0" class="prism-code language-go codeBlock_eDxB thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_HhFH"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">package</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;fmt&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;github.com/spf13/cobra&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> rootCmd </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">cobra</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Command</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Use</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">   </span><span class="token string" style="color:#e3116c">&quot;yourtool&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Short</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;A brief description of your tool&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Long</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token string" style="color:#e3116c">`A longer description of your tool`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">func</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cmd </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">cobra</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Command</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> args </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Your main code here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> translateCmd </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">cobra</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Command</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Use</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">   </span><span class="token string" style="color:#e3116c">&quot;translate&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Short</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Translate text using Google Translate API&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Long</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token string" style="color:#e3116c">`Translate text using Google Translate API`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">func</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cmd </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">cobra</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Command</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> args </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Your translation code here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rootCmd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">AddCommand</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">translateCmd</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> rootCmd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fmt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Exit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_dOGi"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lKbx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_qODK"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QXne"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_e5hY" id="2-go-project-layout">2. Go Project Layout<a href="#2-go-project-layout" class="hash-link" aria-label="Direct link to 2. Go Project Layout" title="Direct link to 2. Go Project Layout">​</a></h4>
<p>Go Project Layout 是一个推荐的项目结构，可以作为你的项目基础。虽然不是严格意义上的脚手架工具，但它提供了一种标准化的项目布局。</p>
<p><strong>项目结构</strong>:</p>
<div class="language-plaintext codeBlockContainer_VHIv theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_SZVB"><pre tabindex="0" class="prism-code language-plaintext codeBlock_eDxB thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_HhFH"><span class="token-line" style="color:#393A34"><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── cmd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── yourtool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── main.go</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── pkg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── translate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── translate.go</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── internal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── some_internal_package</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── internal.go</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── go.mod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── go.sum</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── README.md</span><br></span></code></pre><div class="buttonGroup_dOGi"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lKbx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_qODK"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QXne"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_e5hY" id="3-viper">3. Viper<a href="#3-viper" class="hash-link" aria-label="Direct link to 3. Viper" title="Direct link to 3. Viper">​</a></h4>
<p>Viper 是一个用于配置管理的库，通常与 Cobra 一起使用，可以帮助你处理配置文件、环境变量等。</p>
<p><strong>安装</strong>:</p>
<div class="language-shell codeBlockContainer_VHIv theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_SZVB"><pre tabindex="0" class="prism-code language-shell codeBlock_eDxB thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_HhFH"><span class="token-line" style="color:#393A34"><span class="token plain">go get -u github.com/spf13/viper</span><br></span></code></pre><div class="buttonGroup_dOGi"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lKbx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_qODK"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QXne"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>使用</strong>:</p>
<div class="language-go codeBlockContainer_VHIv theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_SZVB"><pre tabindex="0" class="prism-code language-go codeBlock_eDxB thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_HhFH"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;github.com/spf13/viper&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">initConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    viper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">SetConfigName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;config&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    viper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">SetConfigType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;yaml&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    viper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">AddConfigPath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;.&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    err </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> viper</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ReadInConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fmt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Error reading config file&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">initConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Use viper.Get(&quot;key&quot;) to get configuration values</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_dOGi"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lKbx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_qODK"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QXne"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_e5hY" id="4-goreleaser">4. GoReleaser<a href="#4-goreleaser" class="hash-link" aria-label="Direct link to 4. GoReleaser" title="Direct link to 4. GoReleaser">​</a></h4>
<p>GoReleaser 是一个用于构建和发布 Go 项目的工具，可以帮助你自动化构建、打包和发布流程。</p>
<p><strong>安装</strong>:</p>
<div class="language-shell codeBlockContainer_VHIv theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_SZVB"><pre tabindex="0" class="prism-code language-shell codeBlock_eDxB thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_HhFH"><span class="token-line" style="color:#393A34"><span class="token plain">brew install goreleaser/tap/goreleaser</span><br></span></code></pre><div class="buttonGroup_dOGi"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lKbx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_qODK"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QXne"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>配置</strong>:
创建一个 <code>.goreleaser.yml</code> 文件：</p>
<div class="language-yaml codeBlockContainer_VHIv theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_SZVB"><pre tabindex="0" class="prism-code language-yaml codeBlock_eDxB thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_HhFH"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">project_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> yourtool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">builds</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">main</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ./cmd/yourtool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">goos</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> darwin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> linux</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> windows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">archives</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">format</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name_template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{ .ProjectName }}_{{ .Version }}_{{ .Os }}_{{ .Arch }}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">release</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">github</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">owner</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> yourusername</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> yourrepository</span><br></span></code></pre><div class="buttonGroup_dOGi"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lKbx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_qODK"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QXne"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>使用</strong>:</p>
<div class="language-shell codeBlockContainer_VHIv theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_SZVB"><pre tabindex="0" class="prism-code language-shell codeBlock_eDxB thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_HhFH"><span class="token-line" style="color:#393A34"><span class="token plain">goreleaser release --rm-dist</span><br></span></code></pre><div class="buttonGroup_dOGi"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lKbx" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_qODK"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QXne"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>结合 Cobra、Viper 和 GoReleaser，你可以快速搭建一个功能齐全、配置灵活的 Go 项目，并轻松地进行发布和分发。这些工具的结合可以显著提高你的开发效率和项目管理的规范性。</p>
<h4 class="anchor anchorWithStickyNavbar_e5hY" id="第四轮问答">第四轮问答<a href="#第四轮问答" class="hash-link" aria-label="Direct link to 第四轮问答" title="Direct link to 第四轮问答">​</a></h4>
<ul>
<li>问：那辛苦你帮我在 github 上找找类似的开源项目，我做个参考</li>
<li>答：如下</li>
</ul>
<p>Here are some examples of open-source projects using Golang and Cobra to create CLI tools, which can serve as references for your own project:</p>
<ol>
<li>
<p><strong>Cobra CLI</strong>: This project provides a powerful CLI framework and a tool to generate applications and commands. It offers a comprehensive structure for building CLI applications and is widely used in the Go community. The repository includes detailed instructions on initializing a new project and adding commands.</p>
<ul>
<li><a href="https://github.com/spf13/cobra-cli" target="_blank" rel="noopener noreferrer">GitHub - Cobra CLI</a> <a href="https://github.com/spf13/cobra-cli" target="_blank" rel="noopener noreferrer">oai_citation:1,GitHub - spf13/cobra-cli: Cobra CLI tool to generate applications and commands</a>.</li>
</ul>
</li>
<li>
<p><strong>Basic Cobra CLI</strong>: This is a minimal example of a CLI tool built with Golang and Cobra. It includes a basic setup and demonstrates how to create nested commands.</p>
<ul>
<li><a href="https://github.com/frasnym/basic-cobra-cli" target="_blank" rel="noopener noreferrer">GitHub - Basic Cobra CLI</a> <a href="https://github.com/frasnym/basic-cobra-cli" target="_blank" rel="noopener noreferrer">oai_citation:2,GitHub - frasnym/basic-cobra-cli: A Powerful CLI Tool Built with Golang and Cobra</a>.</li>
</ul>
</li>
<li>
<p><strong>Cobra Example</strong>: This project is a minimal example of a Cobra application, showcasing how to initialize a new application, add commands, and structure the CLI tool.</p>
<ul>
<li><a href="https://github.com/dharmeshkakadia/cobra-example" target="_blank" rel="noopener noreferrer">GitHub - Cobra Example</a> <a href="https://github.com/dharmeshkakadia/cobra-example" target="_blank" rel="noopener noreferrer">oai_citation:3,GitHub - dharmeshkakadia/cobra-example: minimal example of cobra app</a>.</li>
</ul>
</li>
<li>
<p><strong>Cobra Viper Demo</strong>: This example demonstrates how to use Cobra in conjunction with Viper, another popular library for configuration management in Golang. It illustrates how to create a CLI interface with configuration file support.</p>
<ul>
<li><a href="https://github.com/northbright/cobra-viper-demo" target="_blank" rel="noopener noreferrer">GitHub - Cobra Viper Demo</a> <a href="https://github.com/northbright/cobra-viper-demo" target="_blank" rel="noopener noreferrer">oai_citation:4,GitHub - northbright/cobra-viper-demo: Example of using cobra and viper to create CLI interfaces for Golang app</a>.</li>
</ul>
</li>
</ol>
<p>These repositories should provide a solid foundation and best practices for developing your own CLI tool using Golang and Cobra.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/tomartisan/programming-notes/tree/master/docusaurus/docs/go/extensions/cli-develop.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_uq2I" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_jFKc"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/go/basic/golang-basic"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">golang-basic</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_ePNe thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#来自-gpt-的意见" class="table-of-contents__link toc-highlight">来自 GPT 的意见</a><ul><li><a href="#第一轮问答" class="table-of-contents__link toc-highlight">第一轮问答</a></li><li><a href="#第二轮问答" class="table-of-contents__link toc-highlight">第二轮问答</a></li><li><a href="#第三轮问答" class="table-of-contents__link toc-highlight">第三轮问答</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Help</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">What is this</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/usage">How to use</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social Media</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://x.com/tomartisan" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_C12H"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@itomartisan" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_C12H"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://tomartisan.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chinese Posts<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_C12H"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://tomartisan.medium.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">English Posts<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_C12H"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Programming Notes, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>